package com.howtodoinjava.example.dossiermedical.beans;

import javax.persistence.*;
import java.util.ArrayList;
import java.util.List;

@Entity
@Table(name = "dossier_medical")
public class DossierMedical {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private int idDossier;

    @Column(name = "id_patient", nullable = false, unique = true)
    private int idPatient;

    @OneToMany(mappedBy = "dossierMedical", cascade = CascadeType.ALL, orphanRemoval = true)
    private List<RendezVous> listeRendezVous = new ArrayList<>();

    public DossierMedical() {
    }

    public DossierMedical(int idPatient) {
        this.idPatient = idPatient;
    }

    public int getIdDossier() {
        return idDossier;
    }

    public void setIdDossier(int idDossier) {
        this.idDossier = idDossier;
    }

    public int getIdPatient() {
        return idPatient;
    }

    public void setIdPatient(int idPatient) {
        this.idPatient = idPatient;
    }

    public List<RendezVous> getListeRendezVous() {
        return listeRendezVous;
    }

    public void setListeRendezVous(List<RendezVous> listeRendezVous) {
        this.listeRendezVous = listeRendezVous;
    }

    public void ajouterRendezVous(RendezVous rendezVous) {
        this.listeRendezVous.add(rendezVous);
        rendezVous.setDossierMedical(this);
    }
}
